@using X.PagedList
@using X.PagedList.Mvc.Core
@using X.PagedList.Web.Common
@model IPagedList<MyWrite>


@{
	ViewData["Title"] = "AdMyWriteList";
	Layout = "~/Views/Shared/_AdminLayout.cshtml";
	int sayac = 1;
}

<div class="col-lg-12">
	<a href="/MyWrite/AdMyWriteAdd/" class="btn btn-success mb-3">Yeni Yazı Ekle</a>
	<div class="card">
		<div class="card-body">
			<div class="card-title">
				<h4>Yazılarım</h4>
			</div>
			<div class="table-responsive">
				<table class="table">
					<thead>
						<tr>
							<th>#</th>
							<th>Yazı Resmi</th>
							<th>Yazı İsmi</th>
							<th>Yazı Tarihi</th>
							<th>Yazı Durumu</th>
							<th>Kategori</th>
							<th>Yazar</th>
							<th>Yorumlar</th>
							<th>Güncelle</th>
							<th>İşlem</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var item in Model)
						{
							<tr>
								<th>@sayac</th>
								<td>
									<img src="@item.Image" style="height:45px; width:60px; object-fit:cover; border-radius:10px;" />
								</td>
								<td>@item.Title</td>
								<td>@(((DateTime)item.AddDate).ToString("dd MMMM yyyy"))</td>
								<td>
									@if (item.Status)
									{
										<span class="text-success">Aktif</span>
									}
									else
									{
										<span class="text-danger">Pasif</span>
									}
								</td>
								<td>@item.Categori.CategoriTitle</td>
								<td>@item.Writer.Name @item.Writer.Surname</td>
								<td>
									<a href="/Comment/AdCommentListForMyWrite/@item.MyWriteId" class="btn btn-secondary">Yorumlar</a>
								</td>
								<td>
									<a href="/MyWrite/AdMyWriteUpdate/@item.MyWriteId" class="btn btn-warning">Güncelle</a>
								</td>
								<td>
									@if (item.Status)
									{
										<a href="/MyWrite/AdMyWriteDoFalse/@item.MyWriteId" class="btn btn-danger">Pasif Yap</a>
									}
									else
									{
										<a href="/MyWrite/AdMyWriteDoTrue/@item.MyWriteId" class="btn btn-success">Aktif Yap</a>
									}
								</td>
							</tr>
							sayac++;
						}
					</tbody>
				</table>
			</div>
			<div class="bootstrap-pagination">
				@* pagination *@
				<nav>
					<ul class="pagination justify-content-center">
						@Html.PagedListPager((IPagedList)Model, page => Url.Action("AdMyWriteList", new { page = page }),
															new PagedListRenderOptions
						{
							LiElementClasses = new string[] { "page-item" },
							PageClasses = new string[] { "page-link" }
						})
					</ul>
				</nav>
			</div>
		</div>
	</div>
</div>

